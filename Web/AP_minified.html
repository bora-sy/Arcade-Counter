<!DOCTYPE html><html lang="en"><head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Arcade Counter Configuration</title> <style>body{background-color: #faefd6; font-family: Georgia, serif; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0;}h1{font-family: 'Slackey', cursive; color: #ff8c37; text-align: center; margin-top: 20px;}.content{margin-top: 20px; display: flex; flex-direction: row; align-items: center; justify-content: center; flex-grow: 1;}.container{background-color: #ffffff; border: 2px solid #09afb4; border-radius: 8px; padding: 20px; margin: 10px 20px; width: 300px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);}.container h2{font-family: 'Gaegu', cursive; color: #ff8c37; margin-bottom: 20px;}.group{margin: 20px 0; text-align: center;}.group label{font-family: 'Gaegu', cursive; color: black; display: block; margin-bottom: 10px; font-size: 1.2em;}.group input[type="text"], .group input[type="password"]{border: 2px solid #09afb4; padding: 10px; width: 250px; font-size: 16px; margin-bottom: 10px; border-radius: 8px;}.group p{color: gray; font-size: 0.9em; margin-top: -8px; margin-bottom: 20px;}p{font-family: 'Gaegu', cursive; color: #af37ff; text-align: center; margin-top: 20px;}.help-icon{cursor: pointer; margin-left: 10px; background-color: darkgray; color: white; border-radius: 50%; padding: 5px 10px; font-weight: bold;}.modal{display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); justify-content: center; align-items: center;}.modal-content{position: relative; background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.3); max-width: 90%; max-height: 90%; overflow: hidden;}.modal-content img{max-width: 100%; max-height: 80vh;}.button-group{display: flex; justify-content: center; gap: 20px; margin-top: 20px; margin-bottom: 20px;}button{font-family: 'Slackey', cursive; background-color: #09878b; color: white; padding: 10px 20px; border: none; font-size: 16px; cursor: pointer; border-radius: 8px;}button:hover{background-color: #076e6f;}@media screen and (max-width: 800px){.content{flex-direction: column;}.button-group{flex-direction: column; gap: 10px;}.container{width: 80%;}}</style></head><body> <h1>Arcade Counter Configuration</h1> <div class="content"> <div class="container"> <h2>Network</h2> <div class="group"> <label for="ssid">SSID:</label> <input type="text" id="ssid" name="ssid"> <p>The network SSID to connect to</p><label for="password">Password:</label> <input type="password" id="password" name="password"> <p>The password for the network SSID</p></div></div></div><p>*User configuration can be made once the device connects to a WiFi Network*</p><div class="button-group"> <button onclick="SaveRestart()">Save & Restart</button> </div><div id="modal" class="modal" onclick="closeModal()"> <div class="modal-content"> <img id="modal-image" src="" alt="Help Image"> </div></div><script>function showHelp(imageSrc){document.getElementById('modal-image').src=imageSrc; document.getElementById('modal').style.display='flex';}function closeModal(){document.getElementById('modal').style.display='none';}document.getElementById('modal').addEventListener('click', function (event){if (event.target.id==='modal'){closeModal();}}); </script> <script>async function SendRequest(path, _method){const url=path; const options={method: _method}; const resp=await fetch(url, options); return resp;}async function GET(path){const resp=await SendRequest(path, "GET"); return resp.json();}async function POST(path){const resp=await SendRequest(path, "POST"); return resp.text();}async function SetNetwork(ssid, password){var ssid=document.getElementById('ssid').value; var password=document.getElementById('password').value; const resp=await POST(`/api/config/network?ssid=${ssid}&password=${password}`); return resp==="1";}async function GetNetwork(){const resp=await GET("/api/config/network"); return resp;}async function Restart(){return await POST("/api/restart")==="ok";}async function SaveRestart(){console.log("Save & Restart"); var ssid=document.getElementById('ssid').value; var password=document.getElementById('password').value; const netSuc=await SetNetwork(ssid, password); const suc=true; if(!netSuc){alert("Failed to set network configuration"); suc=false;}if(!await Restart()){alert("Failed to restart the device"); suc=false;}if(suc) alert("Success");}document.addEventListener('DOMContentLoaded', async function (){const network=await GetNetwork(); document.getElementById('ssid').value=network.ssid; document.getElementById('password').value=network.password;}); </script></body></html>